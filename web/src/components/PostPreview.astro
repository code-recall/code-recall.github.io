---
import type { CollectionEntry } from 'astro:content'
import Tags from './Tags.astro'

export interface Props {
  post: CollectionEntry<'blog'>
}

const { post } = Astro.props
---

<a href={`/blog/${post.slug.split('/').at(1)}`} class="post-preview flow">
  <span>
    <h5>{post.data.title}</h5>
    <p>
      <span>{post.data.author}</span>
      <time>
        {
          post.data.pubDate.toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'short',
            day: 'numeric',
          })
        }
      </time>
    </p>
  </span>

  <p class="description">{post.data.description}</p>
  <Tags tags={post.data.tags} />
</a>

<style scoped>
  .post-preview {
    display: flex;
    flex-direction: column;
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -2px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    padding: var(--space-l);
    gap: var(--space-m);
    text-decoration: none;
    margin-bottom: var(--space-xl);
    color: black;
    cursor: pointer;
    transition: all 0.2s ease-in-out;

    &:hover {
      box-shadow:
        0 20px 25px -5px rgba(0, 0, 0, 0.1),
        0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }

    & > span {
      display: flex;
      flex-direction: column;
    }

    & h5 {
      margin: 0;
    }
  }
</style>
